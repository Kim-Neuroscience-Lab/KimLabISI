{
  "config": {
    "acquisition": {
      "baseline_sec": {
        "max": 3600.0,
        "min": 0.1,
        "step": 0.1,
        "type": "number",
        "unit": "s"
      },
      "between_sec": {
        "max": 3600.0,
        "min": 0.1,
        "step": 0.1,
        "type": "number",
        "unit": "s"
      },
      "cycles": {
        "max": 1000,
        "min": 1,
        "step": 1,
        "type": "number",
        "unit": "cycles"
      },
      "directions": {
        "multi_select": true,
        "options": [
          "LR",
          "RL",
          "TB",
          "BT"
        ],
        "type": "array"
      }
    },
    "analysis": {
      "area_min_size_mm2": {
        "description": "Minimum area size for visual cortex regions (filters noise)",
        "literature": "Standard noise filtering in retinotopy papers",
        "max": 1000.0,
        "min": 0.0001,
        "step": 0.0001,
        "type": "number",
        "unit": "mm\u00b2"
      },
      "coherence_threshold": {
        "description": "Signal reliability threshold for VFS maps",
        "literature": "Kalatsky & Stryker 2003: typical range 0.2-0.35, default 0.3",
        "max": 1.0,
        "min": 0.0,
        "step": 0.05,
        "type": "range",
        "unit": ""
      },
      "smoothing_sigma": {
        "description": "Gaussian smoothing for retinotopic maps before gradient computation",
        "literature": "MATLAB ISI-master getMagFactors.m: sigma=3 (default 3.0)",
        "max": 20.0,
        "min": 0.0,
        "step": 0.1,
        "type": "number",
        "unit": "\u03c3"
      },
      "gradient_window_size": {
        "description": "Kernel size for computing retinotopic gradients (Sobel operator)",
        "literature": "Juavinett et al. 2017 - gradient computation for visual field sign",
        "max": 11,
        "min": 3,
        "step": 2,
        "type": "number",
        "unit": "px"
      },
      "magnitude_threshold": {
        "description": "Response magnitude threshold for per-direction magnitude maps",
        "literature": "Juavinett et al. 2017: response strength filtering, typical ~0.3 (default 0.3)",
        "max": 1.0,
        "min": 0.0,
        "step": 0.01,
        "type": "range",
        "unit": ""
      },
      "phase_filter_sigma": {
        "description": "Gaussian smoothing of phase maps before phase-to-position conversion",
        "literature": "Set to 0.0 to match MATLAB (which smooths complex FFT, not phase). Default 0.0",
        "max": 10.0,
        "min": 0.0,
        "step": 0.1,
        "type": "number",
        "unit": "\u03c3"
      },
      "response_threshold_percent": {
        "description": "Percentile threshold for response map filtering",
        "literature": "Juavinett et al. 2017 - robust thresholding method",
        "max": 100,
        "min": 0,
        "step": 1,
        "type": "number",
        "unit": "%"
      },
      "ring_size_mm": {
        "description": "Imaging field diameter for spatial calibration (pixels to mm)",
        "literature": "Required for cortical area size calculations and spatial calibration",
        "max": 10.0,
        "min": 0.1,
        "step": 0.1,
        "type": "number",
        "unit": "mm"
      },
      "pixel_scale_mm_per_px": {
        "description": "Spatial calibration scale (mm per pixel) - set during analysis",
        "max": 1.0,
        "min": -1.0,
        "step": 0.0001,
        "type": "number",
        "unit": "mm/px"
      },
      "vfs_threshold_sd": {
        "description": "Statistical threshold for VFS in standard deviations (computed on raw VFS)",
        "literature": "MATLAB getAreaBorders.m: threshold = 1.5*std(VFS(:)) - computed on ALL pixels",
        "max": 20.0,
        "min": 0.1,
        "step": 0.1,
        "type": "number",
        "unit": "\u03c3"
      }
    },
    "camera": {
      "camera_fps": {
        "max": 300,
        "min": 1,
        "step": 1,
        "type": "number",
        "unit": "fps"
      },
      "camera_height_px": {
        "max": 10000,
        "min": 64,
        "step": 1,
        "type": "number",
        "unit": "px"
      },
      "camera_width_px": {
        "max": 10000,
        "min": 64,
        "step": 1,
        "type": "number",
        "unit": "px"
      },
      "selected_camera": {
        "options_from": "available_cameras",
        "type": "select"
      }
    },
    "monitor": {
      "monitor_distance_cm": {
        "max": 200.0,
        "min": 1.0,
        "step": 0.1,
        "type": "number",
        "unit": "cm"
      },
      "monitor_fps": {
        "max": 300,
        "min": 1,
        "step": 1,
        "type": "number",
        "unit": "fps"
      },
      "monitor_height_cm": {
        "max": 500.0,
        "min": 1.0,
        "step": 0.1,
        "type": "number",
        "unit": "cm"
      },
      "monitor_height_px": {
        "max": 10000,
        "min": 100,
        "step": 1,
        "type": "number",
        "unit": "px"
      },
      "monitor_lateral_angle_deg": {
        "max": 90.0,
        "min": -90.0,
        "step": 0.1,
        "type": "number",
        "unit": "\u00b0"
      },
      "monitor_tilt_angle_deg": {
        "max": 90.0,
        "min": -90.0,
        "step": 0.1,
        "type": "number",
        "unit": "\u00b0"
      },
      "monitor_width_cm": {
        "max": 500.0,
        "min": 1.0,
        "step": 0.1,
        "type": "number",
        "unit": "cm"
      },
      "monitor_width_px": {
        "max": 10000,
        "min": 100,
        "step": 1,
        "type": "number",
        "unit": "px"
      },
      "selected_display": {
        "options_from": "available_displays",
        "type": "select"
      }
    },
    "session": {
      "animal_age": {
        "placeholder": "Enter animal age",
        "type": "text"
      },
      "animal_id": {
        "placeholder": "Enter animal ID",
        "type": "text"
      },
      "session_name": {
        "placeholder": "Enter session name",
        "type": "text"
      }
    },
    "system": {
      "development_mode": {
        "description": "DEVELOPMENT ONLY: Allows software timestamps for testing. NEVER use for publication data.",
        "type": "boolean"
      }
    },
    "stimulus": {
      "background_luminance": {
        "max": 1.0,
        "min": 0.0,
        "step": 0.01,
        "type": "range",
        "unit": "%"
      },
      "bar_width_deg": {
        "max": 180.0,
        "min": 0.1,
        "step": 0.1,
        "type": "number",
        "unit": "\u00b0"
      },
      "checker_size_deg": {
        "max": 180.0,
        "min": 0.1,
        "step": 0.1,
        "type": "number",
        "unit": "\u00b0"
      },
      "contrast": {
        "max": 1.0,
        "min": 0.0,
        "step": 0.01,
        "type": "range",
        "unit": "%"
      },
      "drift_speed_deg_per_sec": {
        "max": 1000.0,
        "min": 0.01,
        "step": 0.01,
        "type": "number",
        "unit": "\u00b0/s"
      },
      "strobe_rate_hz": {
        "max": 100.0,
        "min": 0.01,
        "step": 0.01,
        "type": "number",
        "unit": "Hz"
      }
    }
  },
  "current": {
    "acquisition": {
      "baseline_sec": 5,
      "between_sec": 5,
      "cycles": 1,
      "directions": [
        "LR",
        "RL",
        "TB",
        "BT"
      ]
    },
    "analysis": {
      "area_min_size_mm2": 0.1,
      "coherence_threshold": 0.3,
      "gradient_window_size": 3,
      "magnitude_threshold": 0.3,
      "phase_filter_sigma": 0.0,
      "pixel_scale_mm_per_px": -1.0,
      "response_threshold_percent": 20,
      "ring_size_mm": 7.0,
      "smoothing_sigma": 3.0,
      "vfs_threshold_sd": 1.5
    },
    "camera": {
      "available_cameras": [],
      "camera_fps": -1,
      "camera_height_px": -1,
      "camera_width_px": -1,
      "selected_camera": ""
    },
    "monitor": {
      "available_displays": [],
      "monitor_distance_cm": 25.0,
      "monitor_fps": -1,
      "monitor_height_cm": 36.195,
      "monitor_height_px": -1,
      "monitor_lateral_angle_deg": 30.0,
      "monitor_tilt_angle_deg": 20.0,
      "monitor_width_cm": 60.96,
      "monitor_width_px": -1,
      "selected_display": ""
    },
    "session": {
      "animal_age": "P20",
      "animal_id": "M137",
      "created_at": "2025-09-28T15:22:27.071857",
      "last_modified": "2025-10-17T17:02:18.943507",
      "session_name": "test1",
      "calibration": {
        "pixel_scale_mm_per_px": 0.006760899056448997,
        "calibration_circle_radius_px": 50,
        "known_object_size_mm": 7,
        "camera_width_px": 1080,
        "camera_height_px": 1080,
        "timestamp": "2025-10-17T04:19:40.206Z"
      }
    },
    "system": {
      "development_mode": true
    },
    "stimulus": {
      "background_luminance": 0.5,
      "bar_width_deg": 20,
      "checker_size_deg": 25,
      "contrast": 0.39,
      "drift_speed_deg_per_sec": 9,
      "strobe_rate_hz": 6
    }
  },
  "default": {
    "acquisition": {
      "baseline_sec": 5.0,
      "between_sec": 5.0,
      "cycles": 10,
      "directions": [
        "LR",
        "RL",
        "TB",
        "BT"
      ]
    },
    "analysis": {
      "area_min_size_mm2": 0.1,
      "coherence_threshold": 0.3,
      "gradient_window_size": 3,
      "magnitude_threshold": 0.3,
      "phase_filter_sigma": 0.0,
      "pixel_scale_mm_per_px": -1.0,
      "response_threshold_percent": 20,
      "ring_size_mm": 7.0,
      "smoothing_sigma": 3.0,
      "vfs_threshold_sd": 1.5
    },
    "camera": {
      "available_cameras": [],
      "camera_fps": -1,
      "camera_height_px": -1,
      "camera_width_px": -1,
      "selected_camera": ""
    },
    "monitor": {
      "available_displays": [],
      "monitor_distance_cm": 25.0,
      "monitor_fps": -1,
      "monitor_height_cm": 36.195,
      "monitor_height_px": -1,
      "monitor_lateral_angle_deg": 30.0,
      "monitor_tilt_angle_deg": 20.0,
      "monitor_width_cm": 60.96,
      "monitor_width_px": -1,
      "selected_display": ""
    },
    "session": {
      "animal_age": "",
      "animal_id": "",
      "created_at": "",
      "last_modified": "",
      "session_name": ""
    },
    "system": {
      "development_mode": false
    },
    "stimulus": {
      "background_luminance": 0.5,
      "bar_width_deg": 20.0,
      "checker_size_deg": 25.0,
      "contrast": 0.5,
      "drift_speed_deg_per_sec": 9.0,
      "strobe_rate_hz": 6.0
    }
  }
}